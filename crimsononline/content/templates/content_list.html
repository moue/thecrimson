{% extends "base.html" %}

{% load content_filters %}
{% load common %}
{% load tag_cloud %}
{% load top_articles %}

{% block inhead %}
    {% static_css "content_list.css" %}
    {% block css %}{% endblock %}
    {% block js %}{% static_js "jquery.js" %}{% endblock %}
{% endblock %}

{% block body %}
    <div class="column_left">
        {% block left %}
        {% endblock %}
    </div>
    <div class="content_list">
        {% block before_content %}
        {% endblock %}
        {% block content_filters %}
            <div class="filters">
                
                <table>
                <tbody>
                <tr><td><span class="filter_text filter_label">FILTER BY:</span></td></tr>
                <tr>
                <td><span class="filter_label">SECTION:</td>
                <td>
                {% for section, d in sections.items %}
                    {% if d.selected %}
                        <a href="{{d.url}}">{{section|yuhkilabel}}</a>
                    {% else %}
                        <a href="{{d.url}}">{{section|yuhkilabel:"gray"}}</a>
                    {% endif %}
                {% endfor %}</span></td></tr>
                <tr>
                <form>
                <td><span class="filter_label">TYPE:</span></td>
                <td>
                {% for type, d in types.items %}    
                <input type="checkbox" onclick="window.location = '{{ d.url }}'" 
                        {% if d.selected %}checked{% endif %}
                /><span class="reg_text">{{type}}s</span>
                {% endfor %}
                </td></tr>
                </form>
                </table>
                
                <span class="pagination">
                    {% if p.has_previous %}
                        <a href="{{url}}">&laquo; Newest</a>
                        <a href="{{url}}page/{{p.previous_page_number}}/">&lsaquo; Newer</a>
                    {% endif %}
                    <span class="reg_text">{{p.start_index}} - {{p.end_index}} of {{paginator.count}}</span>
                    {% if p.has_next %}
                        <a href="{{url}}page/{{p.next_page_number}}/">Older &rsaquo;</a>
                        <a href="{{url}}page/{{paginator.num_pages}}/">Oldest &raquo;</a>
                    {% endif %}
                </span>
                <div >&nbsp;</div>
            </div>
        {% endblock %}
        {% block content_list %}
            <ul>
            {% for c in content %}
                {{ c|render:"list-item"}}
            {% endfor %}
            </ul>
        {% endblock %}
        {% block after_content %}
        {% endblock %}
    </div>
    <div class="column_right">
        {% block right %}
        {% tag_cloud 15 "RELATED TAGS" tags %}
        <div class="ad bordered">
            <span>advertisement</span>
            <img src="/site_media/images/medium_rectangle.gif" />
        </div>
        {% most_read_articles %}
        {% endblock %}
    </div>
	<div style="clear:both"></div>
{% endblock %}